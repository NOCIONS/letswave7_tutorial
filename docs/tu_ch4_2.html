<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Chapter 4-2. Run Batch Processing | Letswave.cn</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Letswave7</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/NOCIONS/letswave7" target="_blank">Download</a></li>
                
                
                
                <li><a href="news">News</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:huanggan1982@gmail.com?subject=Question for Letswave feedback&body=I have some feedback about the Chapter 4-2. Run Batch Processing page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Chapter 4-2. Run Batch Processing">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
      
  
  <li>
      <a href="#">Overview</a>
      <ul>
          
          
          
          <li><a href="index.html">1. Welcome to Letswave</a></li>
          
          
          
          
          
          
          <li><a href="gs_general_info.html">2. General Information</a></li>
          
          
          
          
          
          
          <li><a href="gs_download_and_installation.html">3. Download and Installation</a></li>
          
          
          
          
          
          
          <li><a href="gs_framework.html">4. Letswave Framework</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Letswave Tutorial</a>
      <ul>
          
          
          
          <li><a href="tu_ch0_getting_started.html"><b>0. Getting Started</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_signal_subject.html"><b>1. Signal Subject</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_1.html">1.1. Data Import</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_2.html">1.2. Preprocessing</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_3.html">1.3. ICA Decomposing</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_4.html">1.4. Time Domain Analysis</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_5.html">1.5. Time-Frequency Analysis</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch2_multiple_subject.html"><b>2. Multiple Subject</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch2_1.html">2.1. Grand Average</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch2_2.html">2.2. Statistical Analysis</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch3_figure_genertaion.html"><b>3. Figure Genertaion</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch3_1.html">3.1. Single Subject Result</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch3_2.html">3.2. Multiple Subjects Result</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch4_batch_script.html"><b>4. Batch Processing and Script</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch4_1.html">4.1. Assign Batch Processing</a></li>
          
          
          
          
          
          
          <li class="active"><a href="tu_ch4_2.html">4.2. Run Batch Processing</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch4_3.html">4.3. Script Generation</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Chapter 4-2. Run Batch Processing</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    


    

  <h3 id="run-batch-processing">Run Batch Processing</h3>
<p>By pressing the button “Run”, we can run the whole batch processing. In the step of <strong>Identify Artifact Component</strong>, we still manually select <strong>comp 1</strong>, <strong>comp 2</strong> in the right panel in orange color and click the button <strong>OK</strong>. It needs more than 2 minutes for all the processing on the testing, in which the steps of computing ICA matrix is time consuming. In results, it would be exactly the same as the results of step by step operation.<br />
<img src="images/tu_ch4_1/Fig412.png" alt="Removing channel IO" />
<img src="images/tu_ch4_1/Fig416.png" alt="Removing channel IO" />
<img src="images/tu_ch4_1/Fig413.png" alt="Removing channel IO" /></p>

<h3 id="inputoutput-of-the-batch-operation">Input/Output of the Batch Operation</h3>
<p>The whole batch processing are divided into four sessions with difference colors. Each session is started by the step of <strong>load</strong>. The step of <strong>load</strong> may be added automatically, like in the step of <strong>apply ICA filter</strong>, <strong>segmentation (one dataset per event code)</strong> and <strong>reference</strong> in our operation. It can be added manually by selecting “<strong>File-&gt;load</strong>”.</p>

<p>In fact, the aim of automatically added <strong>load</strong> operation is specify the input datasets for the system. In each step, it is necessary to figure out the input and output of the processing. In the step by step operation, the input is the selected dataset(s), and the output is the new dataset(s) with a prefix added.</p>

<p>In the batch operation, if a step of operation is a simple 1-in-1-out, it is clear that the output of one operation would be the input of the following operation. Hence, the system does not need the users to specify the input.</p>

<p>However, some operations would be complicated, like <strong>segmentation (one dataset per event code)</strong> is 1-in-N-out, <strong>merge</strong>, <strong>ttest</strong> and <strong>ANOVA</strong> is N-in-1-out. Further <strong>Apply ICA filter</strong> is N-in-N-out operation since all the datasets will share the same ICA matrix and remove the same components. For these operations, the condition of the input and output would be complicated for the system, hence Letswave7 automatically adds a <strong>load</strong> operation to ask the users specify the input datasets.</p>

<p>Certainly, for some operation, if the input is not the output of the previous operation, users can also add a <strong>load</strong> operation manually by selecting “<strong>File-&gt;load</strong>”.</p>

<h3 id="intermediate-datasets-and-prefix">Intermediate Datasets and Prefix</h3>
<p>In Letswave7, each step will generate a new dataset with a prefix. Sometimes, the intermediate datasets are useless but occupying the hard disk. Furthermore, the read/write operation on these the intermediate datasets would be time consuming. Hence, we can not save the intermediate datasets by not check the <strong>save checkbox</strong> in the lower right corner.</p>

<p>For the prefix, letswave7 assigns different prefixed for different operations, which it easy to know the operations history from the name of the dataset. If the users want to use their own prefix or even skip the prefix, they can specify the prefix in the <strong>prefix editbox</strong> in the lower right corner, or even replace it by <strong>empty</strong> to replace the input datasets, which is the nothing in the editbox, NOT the placeholder <strong>space</strong>.</p>

<p>In this case, we can set the <strong>prefix editbox</strong> empty and check out the <strong>save checkbox</strong> for the intermediate steps of <strong>Selection</strong>, <strong>butterworth filter</strong>, <strong>chan_interp</strong>, <strong>reference</strong>, <strong>baseline_correction</strong>. Since the name of the datasets have been changed, we need to correspondingly remove the error datasets and adding the correct datasets for the input in the steps of the <strong>load</strong> operation. By click the button “Run”, the batch processing would be faster than before. In results, the intermediate datasets do not exist anymore.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Setting the prefix <strong>empty</strong> is actually replacing the input datasets. Be cautious that once the results are saved, it will overwrite the original datasets.</div>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> The final result in each session need to be saved. Otherwise, all the processing is in vain, since no result has been saved on the hard drive.</div>
<p><br />
<img src="images/tu_ch4_1/Fig414.png" alt="Removing channel IO" />
<img src="images/tu_ch4_1/Fig417.png" alt="Removing channel IO" /></p>

<h3 id="save-the-batch-processing">Save the Batch Processing</h3>
<p>To reuse the batch, we can save the entire process. Click the <strong>save</strong> button in the toolbar of the batch module, and save the process as “P300.lw_script” for example. For the next time, we can click the <strong>open</strong> button to load the process. It should be noticed that since the processing object has been changed, the user need to change the input datasets in all the steps of <strong>load</strong>.</p>

<p>If the batch processing is frequently used, we can put the saved <strong>.lw_script</strong> file, like “P300.lw_script” in this case, into the path of the letswave installed “<strong>../letswave7/plugins/</strong>”. After that, restart letswave7 and the batch operation will come out in the menu of the batch in both the manager module and batch module.<br />
<img src="images/tu_ch4_1/Fig422.png" alt="Removing channel IO" /></p>



    <div class="tags">
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2018 Letswave.cn. All rights reserved. <br />
 Site last generated: Sep 17, 2018 <br />
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-20762787-5','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
