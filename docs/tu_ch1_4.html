<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Chapter 1-4. Time Domain Analysis | Letswave.cn</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Letswave7</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/NOCIONS/letswave7" target="_blank">Download</a></li>
                
                
                
                <li><a href="news">News</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:huanggan1982@gmail.com?subject=Question for Letswave feedback&body=I have some feedback about the Chapter 1-4. Time Domain Analysis page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Chapter 1-4. Time Domain Analysis">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
      
  
  <li>
      <a href="#">Overview</a>
      <ul>
          
          
          
          <li><a href="index.html">1. Welcome to Letswave</a></li>
          
          
          
          
          
          
          <li><a href="gs_general_info.html">2. General Information</a></li>
          
          
          
          
          
          
          <li><a href="gs_download_and_installation.html">3. Download and Installation</a></li>
          
          
          
          
          
          
          <li><a href="gs_framework.html">4. Letswave Framework</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Letswave Tutorial</a>
      <ul>
          
          
          
          <li><a href="tu_ch0_getting_started.html"><b>0. Getting Started</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_signal_subject.html"><b>1. Signal Subject</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_1.html">1.1. Data Import</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_2.html">1.2. Preprocessing</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_3.html">1.3. ICA Decomposing</a></li>
          
          
          
          
          
          
          <li class="active"><a href="tu_ch1_4.html">1.4. Time Domain Analysis</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_5.html">1.5. Time-Frequency Analysis</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch2_multiple_subject.html"><b>2. Multiple Subject</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch2_1.html">2.1. Grand Average</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch2_2.html">2.2. Statistical Analysis</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch3_figure_genertaion.html"><b>3. Figure Genertaion</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch3_1.html">3.1. Single Subject Result</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch3_2.html">3.2. Multiple Subjects Result</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch4_batch_script.html"><b>4. Batch Processing and Script</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch4_1.html">4.1. Assign Batch Processing</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch4_2.html">4.2. Run Batch Processing</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch4_3.html">4.3. Script Generation</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Chapter 1-4. Time Domain Analysis</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    


    

  <p>In this chapter, we keep on the preprocessing on the P300 dataset after ICA filtering.</p>

<h2 id="step-7-segmentationepoching">Step 7. Segmentation/Epoching</h2>
<p>Select the dataset “<strong><em>sp_filter ica chan_interp butt sel_chan sub093</em></strong>”” in the data list of the manager module, and click <strong>Process-&gt;Epoch segmentation-&gt;Segment relative to events (one file per event code)</strong> in the menu. In the batch module, select Event codes <strong><em>S  9</em></strong> and <strong><em>S 10</em></strong>, and set the epcoh starting time and duration as <strong><em>-1</em></strong> and <strong><em>3</em></strong>. Click the button <strong>Run</strong> in the bottom of batch module, and then two new datasets with the name “<strong><em>ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” will be appeared in the data list of the manager module. <br />
<img src="images/tu_ch1_4/Fig029.png" alt="Channel location assignment" /></p>

<p>In the menu, there are two items for segmentation, which are <strong>Segment relative to events</strong> and <strong>Segment relative to events (one file per event code)</strong>. They have similar function, but the output would be different. If multiple event codes has been selected, <strong>Segment relative to events</strong>  will segment all the epochs with different event codes into one dataset. However, with <strong>Segment relative to events (one file per event code)</strong>, separated dataset will be generated according to different event codes. For example, in this case of P300 dataset, the target and nontarget events are marked as <strong><em>S  9</em></strong> and <strong><em>S 10</em></strong>. Hence with <strong>Segment relative to events (one file per event code)</strong>, two dataset has been generated.</p>

<h2 id="step-8-artifact-rejection">Step 8. Artifact Rejection</h2>
<p>Before the artifact rejection, it is necessary to have an observation to all the epochs. Select the datasets “<strong><em>ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and select <strong>view</strong> in the right-click menu. In the multiviewer of the waveform, setting epochs as the superimposed waves, and select all epochs.  We select channel <strong><em>Pz</em></strong> for observation since it is the most interesting channel in the P300 analysis. Of cource, we should also have a look at the conditions on the other channels. By setting the y-axis from <strong><em>-100</em></strong> to <strong><em>100</em></strong>, all epochs seem fine on channel Pz. No obviously artifact has been observed for both the two datasets.<br />
<img src="images/tu_ch1_4/Fig030a.png" alt="Artifact Rejection1" />
<img src="images/tu_ch1_4/Fig030b.png" alt="Artifact Rejection2" /></p>

<p>Hence, it is not necessary to perform arfifact rejection on this dataset. We will omit this step in the preprocessing of this P300 dataset. Considering the integrity of this manuel, we still show the operation of artifact rejection. In Letswave7, we provide two methods for artifact rejection.</p>

<p>Fisrtly, we can manually reject the epochs with artifact. For this methods, select the datasets “<strong><em>ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>”, and click <strong>Edit-&gt;Arrange signals-&gt;Rearrange or delete epochs, channels, indexes</strong> in the menu. In the batch module, set the selection items as “<strong>Epoch</strong>”, and put the epochs you want to keep into the right column. Click the button <strong>Run</strong> in the bottom of batch module to finish the work of artifact rejection. Two new datasets with the name “<strong><em>sel_epoch ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>sel_epoch ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” will be appeared in the data list of the manager module.<br />
<img src="images/tu_ch1_4/Fig030e.png" alt="Artifact Rejection3" /></p>

<p>The second method is using some criteria for the artifact rejection, like the value of the EEG signal in certain interval on certain channel exceeding a certain threshold for example. For this methods, select the datasets “<strong><em>ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>”, and click <strong>Process-&gt;Artefact rejection and suppression-&gt;Reject epochs (amplitude criterion)</strong> in the menu. In the batch module, select the checkbox <strong>Select channels</strong> and select channel <strong>Pz</strong>. If the checkbox is not selected the crition will work on all the channels. On the right select the checkbox <strong>X-axis limits</strong> and set the corresponding interval as <strong>0</strong> to <strong>2</strong> seconds. If the checkbox is not selected, the crition will work on all the range of the x-axis. Since there is data on Y-axis and Z-axis is singleton, we do not need to check these two axises. Click the button <strong>Run</strong> in the bottom of batch module to finish the work of artifact rejection. Two new datasets with the name “<strong><em>ar-amp ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>ar-amp ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” will be appeared in the data list of the manager module. In fact, there is not epochs has been rejected, the two new datasets are exactly the same as the previous.<br />
<img src="images/tu_ch1_4/Fig030d.png" alt="Artifact Rejection4" /></p>

<h2 id="step-9-rereference">Step 9. Rereference</h2>
<p>In the study of P300, the average of bilateral mastoids regions normally is selected as reference. Hence, we will rereference to the mean value of TP9 and TP10. Select the datasets “<strong><em>ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>”, and click <strong>Process-&gt;Rereference signals-&gt;Rereference</strong> in the menu. In the batch module, select the <strong>TP9</strong> and <strong>TP10</strong> as the <strong>new reference</strong> in the left list box and select all channels in the right list box for <strong>apply reference to</strong>. Click the button <strong>Run</strong> in the bottom of batch module to finish the work of artifact rejection. Two new datasets with the name “<strong><em>reref ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>reref ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” will be appeared in the data list of the manager module.<br />
<img src="images/tu_ch1_4/Fig032.png" alt="Rereference" /></p>

<p>Here, we select TP9 and TP10 for using the mean value of the two channels as the new reference. For the common average reference, we can select all channels in the left list box, then the average of all channels will be used as the new reference.</p>

<h2 id="step-10-baseline-correction">Step 10. Baseline Correction</h2>
<p>In the segmentation, we set the epcoh starting time and duration as <strong><em>-1</em></strong> and <strong><em>3</em></strong>, which means the epochs will start from <strong>-1s</strong> to <strong>2s</strong>. Hence, we set the baseline from <strong>-1s</strong> to <strong>0s</strong> for baseline correction.</p>

<p>Select the datasets “<strong><em>reref ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>reref ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>”, and click <strong>Process-&gt;Baseline operation-&gt;Baseline correction</strong> in the menu. Keep the dafault setting in the batch module, and click the button <strong>Run</strong> in the bottom of batch module to finish the work of artifact rejection. Two new datasets with the name “<strong><em>bl reref ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>bl reref ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” will be appeared in the data list of the manager module.<br />
<img src="images/tu_ch1_4/Fig035.png" alt="Baseline Correction" /></p>

<h2 id="step-11-averaging">Step 11: Averaging</h2>
<p>After the ten steps of preprocessing, we can simply average the epochs to do time domain analysis. Select the datasets “<strong><em>bl reref ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>bl reref ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>”, and click <strong>Process-&gt;Average-&gt;Compute averag, std, median across epochs</strong> in the menu. Keep the dafault setting in the batch module, and click the button <strong>Run</strong> in the bottom of batch module for averaging. Two new datasets with the name “<strong><em>avg bl reref ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>avg bl reref ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” will be appeared in the data list of the manager module.<br />
<img src="images/tu_ch1_4/Fig038.png" alt="Averaging" /></p>

<h2 id="view-the-result">View the Result</h2>
<p>Select datasets “<strong><em>avg bl reref ep_S  9 sp_filter ica chan_interp butt sel_chan sub093</em></strong>” and “<strong><em>avg bl reref ep_S 10 sp_filter ica chan_interp butt sel_chan sub093</em></strong>”. Click the <strong>view</strong> in the right-click menu, we can see the time domain result in the multiviewer for the waveform.</p>

<p>Select both the two datasets and select channel <strong>Pz</strong>, we can see the result of P300 on Pz. Open the topography in the toolbar and set the cursor to <strong>0.35</strong>, we can observe the topography of P300. Since it is the reuslt from single subject, the ERP is still noisy.<br />
<img src="images/tu_ch1_4/Fig050.png" alt="Time Domain Result" /></p>

<p>In this part, we demonstrated the preprocessing and time domain analysis step by step. For each step, there would be a prefix, such as butt, ica, and reref, added in the file names. Hence from the name of the dataset, we have a gereral understanding of the processing steps. More advanced tutorial for batch precessing and script.</p>



    <div class="tags">
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2018 Letswave.cn. All rights reserved. <br />
 Site last generated: Sep 9, 2018 <br />
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-20762787-5','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
