<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Chapter 1-2. Preprocessing | Letswave.cn</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Letswave7</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/NOCIONS/letswave7" target="_blank">Download</a></li>
                
                
                
                <li><a href="news">News</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:huanggan1982@gmail.com?subject=Question for Letswave feedback&body=I have some feedback about the Chapter 1-2. Preprocessing page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Chapter 1-2. Preprocessing">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
      
  
  <li>
      <a href="#">Overview</a>
      <ul>
          
          
          
          <li><a href="index.html">1. Welcome to Letswave</a></li>
          
          
          
          
          
          
          <li><a href="gs_general_info.html">2. General Information</a></li>
          
          
          
          
          
          
          <li><a href="gs_download_and_installation.html">3. Download and Installation</a></li>
          
          
          
          
          
          
          <li><a href="gs_framework.html">4. Letswave Framework</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Letswave Tutorial</a>
      <ul>
          
          
          
          <li><a href="tu_ch0_getting_started.html"><b>0. Getting Started</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_signal_subject.html"><b>1. Signal Subject</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_1.html">1.1. Data Import</a></li>
          
          
          
          
          
          
          <li class="active"><a href="tu_ch1_2.html">1.2. Preprocessing</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_3.html">1.3. ICA Decomposing</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_4.html">1.4. Time Domain Analysis</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch1_5.html">1.5. Time-Frequency Analysis</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch2_multiple_subject.html"><b>2. Multiple Subject</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch2_1.html">2.1. Grand Average</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch2_2.html">2.2. Statistical Analysis</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch3_figure_genertaion.html"><b>3. Figure Genertaion</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch3_1.html">3.1. Single Subject Result</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch3_2.html">3.2. Multiple Subjects Result</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch4_batch_script.html"><b>4. Batch Processing and Script</b></a></li>
          
          
          
          
          
          
          <li><a href="tu_ch4_1.html">4.1. Assign Batch Processing</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch4_2.html">4.2. Run Batch Processing</a></li>
          
          
          
          
          
          
          <li><a href="tu_ch4_3.html">4.3. Script Generation</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Chapter 1-2. Preprocessing</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    


    

  <p>Raw EEG signal is noisy.  Preprocessing is quite necessary to improve the signal noise ratio to obtain a “clear” EEG data. While, it is almost impossible to completely distinguish between noise and signals. The signal and noise are always mixed together in EEG signal. In some steps, some artifact can be easily identified and removed. While some steps may filter out part of the signals while denoising. Further, some steps would even introduce some noise.</p>

<p>For beginners, it is always desired to have a standard operating procedure and universal parameter settings in the EEG analysis. Unfortunately, there is no standard procedure in the EEG preprocessing. The signal in certain frequency band is the object for analysis in one experiment, may be treated as a interference factor in another experiment. In addition, some operations still need the experience of the operator, like which epoch should reject, which channel should be interpolated and which component should be rejected in ICA. Hence, it is hard to say some processes is correct or not. Instead, it normally says that the operation is appreciated or reasonable.</p>

<p>Normally, we still have some principles in the EEG signal preprocessing. The commonly used methods for denoising in preprocessing are listed as follows,</p>
<ul>
  <li>Channel location assignment</li>
  <li>Useless channels removing</li>
  <li>Frequency filtering</li>
  <li>Bad electrodes interpolation</li>
  <li>Segmentation/Epoching</li>
  <li>Artifact rejection</li>
  <li>ICA decomposing for artifacts removal</li>
  <li>Rereference</li>
  <li>Baseline correction</li>
</ul>

<p>For the P300 dataset, we will introduce the operation of all these methods and the principles in the use of these methods would be discussed. ICA decomposing would be introduced separately in chapter 03. And some other methods, as epoching, artifacts rejection, rereference, and baseline correction would be introduced in chapter 04 with the time domain analysis together.</p>

<h2 id="step-1-channel-location-assignment">Step 1. Channel location assignment</h2>
<p>The work of channel location assignment is to assign the coordinate information for each channel in the dataset. Letswave would automatically assign the channel location with commonly used <a href="https://en.wikipedia.org/wiki/10%E2%80%9320_system_(EEG)">10-20 system</a>. While in different EEG recording system, the coordinate of the same channel would be slightly different. If you find the automatic assigned coordinate is not correct, or the channel in your dataset does not follow the 10-20 system, Letswave7 still allows you to manually assign the channel location.</p>

<p>If you want to manually assign the channel location, you can do the following steps. Select the dataset “<strong><em>sub093</em></strong>”” in the data list of the manager module, and click <strong>Edit-&gt;Electrodes-&gt;Edit electrode coordinates</strong> in the menu. In the batch module, it is shown that the default assigned location file is “Standard-10-20-Cap81.locs”. Press the button “<strong>Select custom file with channel location</strong>” to select the custom file for channel location. In the folder of <strong><em>electrodes</em></strong> in Letswave7, there are several channel location files for different EEG recording system. You can also assign your own channel location file, if all these files are not appreciated. Click the button <strong>Run</strong> in the bottom of batch module, and then a new dataset with the name “<strong><em>chanlocs sub093</em></strong>” will be appeared in the data list of the manager module. Since the automatic assigned channel location in our dataset is OK, the step of channel location assignment is <strong>omitted</strong> in the preprocessing of P300 dataset.<br />
<img src="images/tu_ch1_2/Fig009a.png" alt="Channel location assignment" /></p>

<h2 id="step-2-useless-channels-removing">Step 2. Useless channels removing</h2>
<p>Sometimes, there would be some useless channels also recorded in the dataset. To make a efficient analysis and also save the storage space, we need to remove the useless channels. Here, we will show the removing of channel <strong><em>IO</em></strong>, which records the <a href="https://en.wikipedia.org/wiki/Electrooculography">electrooculogram (EOG)</a> signals. For ocular artifact removal, EOG signals is necessary for Graton and Coles’ method. By with the ICA method, EOG signal is nor necessary. To remove channel <strong><em>IO</em></strong>, we can select the dataset “<strong><em>sub093</em></strong>”” in the data list of the manager module, and click <strong>Edit-&gt;Arrange signals-&gt;Rearrange or delete epochs, channels, indexes</strong> in the menu. In the batch module, press the button <strong>Add all</strong> to add all the channels into left listbox. Then select channel <strong><em>IO</em></strong> and press button <strong>Remove</strong> to delete channel <strong><em>IO</em></strong>. Click the button <strong>Run</strong> in the bottom of batch module, and then a new dataset with the name “<strong><em>sel_chan sub093</em></strong>” will be appeared in the data list of the manager module.<br />
<img src="images/tu_ch1_2/Fig010.png" alt="Channels Removing1" />
<img src="images/tu_ch1_2/Fig011.png" alt="Channels Removing2" /></p>

<h2 id="step-3-frequency-filtering">Step 3. Frequency filtering</h2>
<p>Frequency filtering is a effective way to filtered out the high frequency artifact, low frequency drifts and the 50/60Hz power-line interference. In letswave, the Butterworth IIR filter is applied for frequency filtering.</p>

<p>For the P300 dataset, since the positive component around 300ms is a slow wave, hence we bandpass filter as 0.05-30Hz. No notch filter for the 50Hz power-line interference would be applied, because it is already outside the range of the bandpass filter. Select the dataset “<strong><em>sel_chan sub093</em></strong>”” in the data list of the manager module, and click <strong>Process-&gt;Frequency analysis and filters-&gt;Butterworth filters</strong> in the menu. In the batch module, set the low cutoff frequency(Hz) as <strong>0.05Hz</strong>, and click the button <strong>Run</strong> to run the bandpass filtering. A new dataset with the name “<strong><em>butt sel_chan sub093</em></strong>” will be appeared in the data list of the manager module.<br />
<img src="images/tu_ch1_2/Fig017.png" alt="Frequency Filtering" /></p>

<h2 id="step-4-bad-electrodes-interpolation">Step 4. Bad electrodes interpolation</h2>
<p>It is find channel P1 is bad when we check the imported raw data. In this step, we will interpolate channel P1 with the surround channels.</p>

<p>Select the dataset “<strong><em>butt sel_chan sub093</em></strong>”” in the data list of the manager module, and click <strong>Edit-&gt;Electrodes-&gt;Interpolate channel using neighbouring electrodes</strong> in the menu. In the batch module, select channel <strong><em>P1</em></strong> in the <strong>Channel to Interpolate</strong> list box, then click the button <strong>Find closest electrodes</strong>. Since the <strong>Number of channels used for interpolation</strong> is <strong><em>3</em></strong> for the default setting, Letswave7 will find the closest electrodes “<strong><em>P3</em></strong>”, “<strong><em>Pz</em></strong>”, and “<strong><em>CP1</em></strong>” for interpolation automatically according to the location of the channels. Click the button <strong>Run</strong> for the bad electrodes interpolation. A new dataset with the name “<strong><em>chan_interp butt sel_chan sub093</em></strong>” will be appeared in the data list of the manager module.<br />
<img src="images/tu_ch1_2/Fig020.png" alt="Electrodes Interpolation" /></p>


    <div class="tags">
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2018 Letswave.cn. All rights reserved. <br />
 Site last generated: Sep 17, 2018 <br />
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-20762787-5','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
